<html>

<head> <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>



   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>



  <script type="text/javascript">

   window.onload= function calendar(){

today = new Date();

currentMonth = today.getMonth();

currentYear = today.getFullYear();

selectYear = document.getElementById("year");

selectMonth = document.getElementById("month");



months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];



monthAndYear = document.getElementById("monthAndYear");

showCalendar(currentMonth, currentYear);

   }



function next() {

    currentYear = (currentMonth === 11) ? currentYear + 1 : currentYear;

    currentMonth = (currentMonth + 1) % 12;

    showCalendar(currentMonth, currentYear);

}



function previous() {

    currentYear = (currentMonth === 0) ? currentYear - 1 : currentYear;

    currentMonth = (currentMonth === 0) ? 11 : currentMonth - 1;

    showCalendar(currentMonth, currentYear);

}



function jump() {

    currentYear = parseInt(selectYear.value);

    currentMonth = parseInt(selectMonth.value);

    showCalendar(currentMonth, currentYear);

}



function showCalendar(month, year) {



    let firstDay = (new Date(year, month)).getDay();

    tbl = document.getElementById("calendar-body"); // body of the calendar



      // clearing all previous cells

      tbl.innerHTML = "";



      // filing data about month and in the page via DOM.

      monthAndYear.innerHTML = months[month] + " " + year;

      selectYear.value = year;

      selectMonth.value = month;



      // creating all cells

      let date = 1;

      for (let i = 0; i < 6; i++) {

          // creates a table row

          let row = document.createElement("tr");



          //creating individual cells, filing them up with data.

          for (let j = 0; j < 7; j++) {

              if (i === 0 && j < firstDay) {

                  cell = document.createElement("td");

                  cellText = document.createTextNode("");

                  cell.appendChild(cellText);

                  row.appendChild(cell);

              }

              else if (date > daysInMonth(month, year)) {

                  break;

              }



              else {

                  cell = document.createElement("td");

                  cellText = document.createTextNode(date);

                  if (date === today.getDate() && year === today.getFullYear() && month === today.getMonth()) {

                      cell.classList.add("bg-info");

                  } // color today's date

                  cell.appendChild(cellText);

                  row.appendChild(cell);

                  date++;

              }





          }



          tbl.appendChild(row); // appending each row into calendar body.

      }



}





  // check how many days in a month code from https://dzone.com/articles/determining-number-days-month

  function daysInMonth(iMonth, iYear) {

      return 32 - new Date(iYear, iMonth, 32).getDate();

  }



  </script>

<style>

  .list{

    height:400px;

    width:500px;

    float:right;}

    #ul {

      overflow: scroll;
      margin: 0;
      padding: 0;

      border: 2px solid #ccc;

    ;

      // Again, this is where the magic happens
      -webkit-overflow-scrolling: touch;
    }

    #li {
      padding: 10px 20px;

      border-bottom: 1px solid #ccc;

      &:last-child {
        border-bottom: none;
      }

      &:nth-child(even) {
        background: #f8f8f8;
      }
    }


  .mrg{

    margin-top: 70px;

  }

  </style>



</head>

<body><nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">

    <a class="navbar-brand" href="#"><img src="https://gscditu.com/img/gsc/mid-transparent.png" width="30" height="30" class="d-inline-block align-top"></a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="navbarContent" aria-expanded="false">

    <span class="navbar-toggler-icon"></span>

  </button>

  <div class="collapse sibling-fade navbar-collapse" id="navbarContent">

    <ul class="navbar-nav mr-auto">

      <li class="nav-item active">

        <a class="nav-link" href="index">Add Event<span class="sr-only">N</span></a>

      </li>

      <li class="nav-item">

        <a class="nav-link active" href="#">Calendar</a>

      </li>

      <li class="nav-item active">

        <a class="nav-link" href="#">About Us</a>

      </li>

      </ul>

    </div>

  </nav>

<div class="container">

<div class="row ">

  <div class="col-md-6 text-left mrg">

    <div class="card">

        <h3 class="card-header" id="monthAndYear"></h3>

        <table class="table table-bordered table-responsive-sm" id="calendar">

            <thead>

            <tr>

                <th>Sun</th>

                <th>Mon</th>

                <th>Tue</th>

                <th>Wed</th>

                <th>Thu</th>

                <th>Fri</th>

                <th>Sat</th>

            </tr>

            </thead>



            <tbody id="calendar-body">

            </tbody>

                   </table>



                   <div class="form-inline">



                       <button class="btn btn-outline-primary col-sm-6" id="previous" onclick="previous()">Previous</button>



                       <button class="btn btn-outline-primary col-sm-6" id="next" onclick="next()">Next</button>

                   </div>

                   <br/>

                   <form class="form-inline">

                       <label class="lead mr-2 ml-2" for="month">Jump To: </label><br>

                       <select class="form-control col-sm-4" name="month" id="month" onchange="jump()">

                           <option value=0>Jan</option>

                           <option value=1>Feb</option>

                           <option value=2>Mar</option>

                           <option value=3>Apr</option>

                           <option value=4>May</option>

                           <option value=5>Jun</option>

                           <option value=6>Jul</option>

                           <option value=7>Aug</option>

                           <option value=8>Sep</option>

                           <option value=9>Oct</option>

                           <option value=10>Nov</option>

                           <option value=11>Dec</option>

                       </select>





                       <label for="year"></label><select class="form-control col-sm-4" name="year" id="year" onchange="jump()">





                       <option value=2018>2018</option>

                       <option value=2019>2019</option>

                       <option value=2020>2020</option>

                       <option value=2021>2021</option>

                       <option value=2022>2022</option>

                       <option value=2023>2023</option>

                       <option value=2024>2024</option>

                       <option value=2025>2025</option>

                       <option value=2026>2026</option>

                       <option value=2027>2027</option>

                       <option value=2028>2028</option>

                       <option value=2029>2029</option>

                       <option value=2030>2030</option>

                   </select></form>

               </div>

           </div>



           <!--<button name="jump" onclick="jump()">Go</button>-->



<div class="col-md-6 text-right mrg">

<!--events list-->

<div class="list">

  <h2></h2>

  <ul class="list-group" id="ul">

    <% for(var i=0;i< datas.length;i++){ %>

    <li class="list-group-item" id="li"><b><%= (datas[i].event)%> </b><br><%= (datas[i].description)%><br><%=(datas[i].from)%> <br><%= (datas[i].to) %> </li>

    <% } %>



  </ul>

</div>

</div>

</div>





           <!-- Optional JavaScript for bootstrap -->

           <!-- jQuery first, then Popper.js, then Bootstrap JS -->





           </body>

           </html>
